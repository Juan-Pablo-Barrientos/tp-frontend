<div class="container pt-2">
  <form [formGroup]="createPostForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <div class="form-floating mb-2">
      <input type="text" formControlName="titleControl" name="title" id="title" placeholder="Titulo" class="form-control"/>
      <label for="name">Titulo</label>
    </div>

    <div class="form-control mb-2">
      <label class="me-2 mb-2"for="theaters">Categoria </label>
      <select class="form-select mb-2" formControlName="categoryControl" name="category" id="category" aria-label="Default select example">
        <option value='' selected>Seleccione categoria</option>
        <option *ngFor="let category of categories" [value]="category.id" >{{category.name}}</option>
      </select>
    </div>

    <div class="form-control mb-2">
      <label class="me-2 mb-2"for="category">Provincia </label>
      <select class="form-select mb-2" formControlName="provinceControl" name="province" id="province" aria-label="Default select example">
        <option value='' selected>Seleccione provincia</option>
        <option *ngFor="let province of provinces" [value]="province.id" >{{province.name}}</option>
      </select>
    </div>

    <div class="form-floating mb-2">
      <textarea type="text" formControlName="bodyControl" name="body" id="body" placeholder="Cuerpo de la noticia" class="form-control" style="height: 300px"></textarea>
      <label for="body">Cuerpo de la noticia</label>
    </div>
    <div class="form-group">
      <label for="file">Imagen</label>
      <input accept=".jpg,.jpeg,.png" formControlName="file"id="file" name="file"type="file" class="form-control" (change)="onFileChange($event)">
      <div *ngIf="getCreatePostForm['file'].touched && getCreatePostForm.file.invalid" class="alert alert-danger">
          <div *ngIf="getCreatePostForm['file'].errors['required']">Archivo requerido</div>
      </div>
    </div>

    <button type="button"(click)="resetAddPost()"  class="btn btn-secondary m-2">Limpiar campos</button>

    <button type="submit" [disabled]="!createPostForm.valid" class="btn btn-primary float-end m-2">Guardar</button>
  </form>
</div>
